<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1080, height=1920, initial-scale=1.0">
    <title>Tokyo Cruise Signage</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&family=Roboto:wght@700&display=swap" rel="stylesheet">

    <style>
        /* --- 基本設定 --- */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: "Hiragino Kaku Gothic ProN", "Hiragino Sans", "Meiryo", sans-serif;
            background-color: #333;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: #10284b;
        }

        /* --- サイネージ全体枠 (1080x1920) --- */
        .signage-container {
            width: 1080px;
            height: 1920px;
            background-color: #fff;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        /* --- 1. ヘッダーエリア --- */
        .top-header {
            height: 180px;
            width: 100%;
            /* パディングを少し減らして横幅の余裕を作りました */
            padding: 20px 30px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 10px; /* 隙間を少し詰めて調整 */
        }

        /* ▼ 時計ウィジェット（小さめ維持） */
        .clock-widget {
            flex-shrink: 0; /* 絶対に縮ませない */
            background-color: #F2C94C;
            border-radius: 12px;
            padding: 8px 20px;
            display: flex;
            align-items: center;
            color: #fff;
            height: 85px;
            gap: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .clock-date-row { display: flex; align-items: baseline; gap: 6px; font-weight: bold; }
        #current-date { font-family: "Roboto", sans-serif; font-size: 36px; line-height: 1; }
        #current-day { font-family: "Roboto", sans-serif; font-size: 20px; line-height: 1; }
        .clock-time-row { font-weight: bold; }
        #current-time { font-family: "Roboto", sans-serif; font-size: 52px; line-height: 1; margin-top: -5px; }
        .weather-icon img { width: 40px; height: 40px; object-fit: contain; display: block; }

        /* ▼ ロゴ（大きく表示しつつ、他を邪魔しない設定） */
        .header-logo {
            flex: 1; /* 余った空間を使う */
            height: 90px; /* 大きさは維持 */
            object-fit: contain;
            /* 重要: QRコードを押し出さないための安全策 */
            width: auto; 
            min-width: 0; 
            max-width: 450px; /* ここで制限をかけてQRを守ります */
            margin: 0 10px;
        }

        /* ▼ QRコードエリア（絶対に切れないように固定） */
        .header-right {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-shrink: 0; /* 重要: 絶対に縮小させない */
            justify-content: flex-end;
            /* 幅が潰れないように最低幅を確保 */
            min-width: 220px; 
        }

        .qr-text {
            font-size: 14px;
            line-height: 1.4;
            color: #666;
            text-align: right;
            white-space: nowrap;
        }
        .qr-text small {
            font-size: 11px;
            display: block;
            color: #999;
        }

        .header-qr {
            width: 80px;
            height: 80px;
            display: block;
            flex-shrink: 0;
        }

        /* --- 2. メッセージエリア --- */
        .message-area {
            position: relative;
            width: 100%;
            height: 140px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .message-bg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; }
        .message-bg img { width: 100%; height: 100%; object-fit: cover; }
        .message-content {
            position: relative; z-index: 2; width: 92%;
            display: flex; align-items: center; gap: 25px;
        }
        .boat-icon { width: 80px; height: 80px; flex-shrink: 0; }
        .message-text {
            color: #fff; font-size: 28px; font-weight: bold;
            line-height: 1.5; flex: 1;
        }

        /* --- 3. メインビジュアル --- */
        .main-visual-section { display: flex; height: 600px; padding: 20px 40px; gap: 20px; }
        .video-container { flex: 2; background: #000; border-radius: 10px; overflow: hidden; }
        .video-container video { width: 100%; height: 100%; object-fit: cover; }
        .side-poster { flex: 1; background: #000; border-radius: 10px; overflow: hidden; }
        .side-poster video { width: 100%; height: 100%; object-fit: cover; }

        /* --- 4. 情報エリア --- */
        .info-section { padding: 20px 50px; }
        .main-title {
            font-size: 52px; font-weight: bold; margin-bottom: 30px; color: #10284b;
        }
        .info-grid { display: flex; gap: 40px; }
        .info-left { flex: 1.5; }
        .schedule-date img { height: 80px; width: auto; margin-bottom: 20px; }
        .schedule-time { margin-bottom: 30px; }
        .time-large { font-size: 48px; font-weight: bold; letter-spacing: 2px; line-height: 1.2; }
        .time-detail { font-size: 22px; color: #333; margin-top: 5px; }
        
        .price-list { display: flex; gap: 40px; margin-bottom: 20px; }
        .price-item { display: flex; flex-direction: column; }
        .price-item .label { font-size: 20px; font-weight: bold; color: #10284b; }
        .price-item .price { font-size: 40px; font-weight: bold; color: #10284b; }
        .price-item .sub { font-size: 14px; color: #666; }
        .notes p { font-size: 16px; color: #555; line-height: 1.8; }

        .info-right {
            flex: 1; background-color: #F8F9FA;
            border-radius: 15px; padding: 25px 30px;
        }

        /* 空席状況 */
        .seat-status-container { height: 100%; display: flex; flex-direction: column; }
        .status-header {
            display: flex; justify-content: space-between; align-items: baseline;
            margin-bottom: 15px; border-bottom: 2px solid #ddd; padding-bottom: 10px;
        }
        .status-title { font-size: 22px; font-weight: bold; color: #2F80ED; }
        .status-sub { font-size: 16px; color: #2F80ED; }
        .status-row {
            flex: 1; display: flex; justify-content: space-between; align-items: center;
            padding: 0 20px; border-bottom: 1px solid #eee;
            font-size: 32px; color: #666; font-weight: bold;
        }
        .status-row:last-child { border-bottom: none; }
        .status-icon { width: 40px; height: 40px; object-fit: contain; }

        /* --- 5. おすすめエリア --- */
        .recommendation-section {
            flex: 1; background-color: #E0F2F9; padding: 25px 50px;
            display: flex; flex-direction: column;
        }
        .rec-header {
            font-size: 28px; font-weight: bold; color: #2F80ED; margin-bottom: 15px;
        }
        .rec-container { display: flex; gap: 20px; height: 100%; }
        .rec-card {
            flex: 1; background: #fff; border-radius: 10px;
            overflow: hidden; display: flex; flex-direction: column;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .rec-img-placeholder {
            height: 180px; background-color: #ccc;
            display: flex; align-items: center; justify-content: center;
        }
        .rec-img-placeholder img { width: 100%; height: 100%; object-fit: cover; }
        .rec-text {
            padding: 15px; flex: 1; display: flex; flex-direction: column;
            justify-content: space-between;
        }
        .rec-text h3 { font-size: 16px; margin-bottom: 8px; line-height: 1.5; color: #10284b; }
        .rec-text p { font-size: 13px; color: #444; line-height: 1.4; }

        /* LINEエリア */
        .line-area {
            flex: 0.8; background-color: #fff; border-radius: 10px;
            display: flex; flex-direction: column; align-items: center;
            justify-content: center; padding: 15px; text-align: center;
        }
        .line-text-img { width: 85%; margin-bottom: 10px; object-fit: contain; }
        .line-qr { width: 100px; height: 100px; margin-bottom: 8px; }
        .line-msg { font-size: 12px; color: #10284b; line-height: 1.4; }

        /* --- 6. フッター --- */
        .main-footer {
            height: 90px; background-color: #fff;
            display: flex; justify-content: space-between; align-items: center;
            padding: 0 50px; border-top: 1px solid #eee;
        }
        .footer-text { font-size: 11px; color: #888; line-height: 1.4; max-width: 800px; }
        .footer-logo img { height: 35px; width: auto; }

            .message-text.single-line {

                text-align: center;

            }

    

        </style>

    </head>

    <body>

    

        <div class="signage-container">

            

            <header class="top-header">

                <div class="clock-widget">

                    <div class="clock-date-row">

                        <span id="current-date">--/--</span>

                        <span id="current-day" class="day-en">---</span>

                    </div>

                    <div class="clock-time-row">

                        <span id="current-time">--:--</span>

                    </div>

                    <div class="weather-icon">

                        <img src="./assets/WeatherSunny.png" alt="Sunny">

                    </div>

                </div>

                

                <img src="./assets/TokyoCruiseLogo.png" class="header-logo" alt="Tokyo Cruise & Waterfront Trip">

                

                <div class="header-right">

                    <span class="qr-text">クルーズのご予約はこちら<br><small>Click here to book your cruise</small></span>

                    <img src="./assets/TokyoCruiseQR.png" class="header-qr" alt="QR Code">

                </div>

            </header>

    

            <div class="message-area">

                <div class="message-bg">

                    <img src="./assets/CommentBox.png" alt="Background">

                </div>

                <div class="message-content">

                    <img src="./assets/BoatIcon.png" class="boat-icon" alt="icon">

                    <p class="message-text" id="dynamic-message">

                        気温は寒いですが風は穏やかなのでデッキの上で大会楽しみましょう。2行まで文章が収まる想定です。1行の場合は中央揃えにしてください。

                    </p>

                </div>

            </div>

    

            <section class="main-visual-section">

                <div class="video-container">

                    <video autoplay loop muted playsinline poster="./assets/MainVisualPoster.png">

                        Your browser does not support the video tag.

                    </video>

                </div>

                

                <div class="side-poster">

                    <video autoplay loop muted playsinline>

                        <source src="./assets/Beercruise.mp4" type="video/mp4">

                    </video>

                </div>

            </section>

    

            <section class="info-section">

                <h1 class="main-title">お台場レインボーナイトクルーズ</h1>

                

                <div class="info-grid">

                    <div class="info-left">

                        <div class="schedule-date">

                            <img src="./assets/Date.png" alt="12/6.13.20 SAT">

                        </div>

                        <div class="schedule-time">

                            <p class="time-large">18:30~19:30</p>

                            <p class="time-detail">(18:30 竹芝出発 → 19:30 竹芝到着)</p>

                        </div>

                        <div class="price-list">

                            <div class="price-item">

                                <span class="label">事前料金</span>

                                <span class="price">¥7,000</span>

                                <span class="sub">Advance price</span>

                            </div>

                            <div class="price-item">

                                <span class="label">当日料金</span>

                                <span class="price">¥8,000</span>

                                <span class="sub">On the day</span>

                            </div>

                        </div>

                        <div class="notes">

                            <p>※ 「お台場レインボー花火 2025」は19:00より約5分間の開催です。</p>

                            <p>※ 荒天により中止する場合がございます。</p>

                        </div>

                    </div>

    

                    <div class="info-right">

                        <div class="seat-status-container">

                            <div class="status-header">

                                <span class="status-title">空席状況</span>

                                <span class="status-sub">SeatStatus</span>

                            </div>

                            <div class="status-row">

                                <span class="date">12/6</span>

                                <img src="./assets/Status=SeatAvailable.png" class="status-icon" alt="○">

                            </div>

                            <div class="status-row">

                                <span class="date">12/13</span>

                                <img src="./assets/Status=SeatLimited.png" class="status-icon" alt="△">

                            </div>

                            <div class="status-row">

                                <span class="date">12/20</span>

                                <img src="./assets/Status=SeatFull.png" class="status-icon" alt="×">

                            </div>

                        </div>

                    </div>

                </div>

            </section>

    

            <section class="recommendation-section">

                <div class="rec-header">その他おすすめコンテンツ</div>

                <div class="rec-container">

                    <div class="rec-card">

                        <div class="rec-img-placeholder">

                            <img src="./assets/RecImageB.png" alt="Night Cruise">

                        </div>

                        <div class="rec-text">

                            <h3>港区×東京湾『歴史・文化・夜景と食事』で巡る 煌めきナイトクルーズ</h3>

                            <p>一般：12000円 港区民割：9000円<br>Suien会員割： 9000円</p>

                        </div>

                    </div>

                    <div class="rec-card">

                        <div class="rec-img-placeholder">

                            <img src="./assets/RecImageA.png" alt="Eco Cruise">

                        </div>

                        <div class="rec-text">

                            <h3>東京モーニングエコクルーズ</h3>

                            <p>船のチャーター料金：¥33,000/隻（税込）<br>+ 朝食代金：¥5,000/人（税込） ※3歳以上</p>

                        </div>

                    </div>

                    <div class="line-area">

                        <div class="line-content">

                            <img src="./assets/ActionGuide.png" class="line-text-img" alt="Official LINE">

                            <img src="./assets/LINEQR.png" class="line-qr" alt="LINE QR">

                            <p class="line-msg">イベントなどさまざまな情報を<br>発信してます！</p>

                        </div>

                    </div>

                </div>

            </section>

    

            <footer class="main-footer">

                <div class="footer-text">

                    <p>このメッセージは、クルーズポータルサイトを運営する horai が提供する自動生成システムによって作成されています。<br>

                    当日の天候や空き状況に応じて、最新のクルーズ情報をお届けします。</p>

                    <p class="en">Messages are automatically generated by horai, the operator of the Cruise Portal site, to deliver the latest cruise updates based on today's weather and availability.</p>

                </div>

                <div class="footer-logo">

                    <img src="./assets/HoraiLogo.png" alt="horai">

                </div>

            </footer>

    

        </div>

    

            <script>

    

                // --- 時計の更新 ---

    

                function updateClock() {

    

                    const now = new Date();

    

                    const month = now.getMonth() + 1;

    

                    const date = now.getDate();

    

                    const days = ["SUN", "MON", "TUE", "WED", "THU", "FRI", "SAT"];

    

                    const day = days[now.getDay()];

    

                    const hours = now.getHours();

    

                    const minutes = String(now.getMinutes()).padStart(2, '0');

    

        

    

                    document.getElementById('current-date').textContent = `${month}/${date}`;

    

                    document.getElementById('current-day').textContent = day;

    

                    document.getElementById('current-time').textContent = `${hours}:${minutes}`;

    

                }

    

                setInterval(updateClock, 1000);

    

                updateClock();

    

        

    

                // --- 動的メッセージの更新 ---

    

                const messageElement = document.getElementById('dynamic-message');

    

        

    

                async function updateMessage() {

    

                    try {

    

                        // バックエンドにリクエストを送信

    

                        const response = await fetch('/api/generate-message');

    

                        if (!response.ok) {

    

                            throw new Error('Network response was not ok');

    

                        }

    

                        const data = await response.json();

    

                        const newMessage = data.message;

    

        

    

                        messageElement.textContent = newMessage;

    

        

    

                        // 文字数に基づいてクラスを付け替える

    

                        if (newMessage.length < 30) {

    

                            messageElement.classList.add('single-line');

    

                        } else {

    

                            messageElement.classList.remove('single-line');

    

                        }

    

        

    

                    } catch (error) {

    

                        console.error('Failed to fetch new message:', error);

    

                        // エラーが発生した場合は、フォールバックメッセージを表示

    

                        messageElement.textContent = '快適なクルーズをお楽しみください。';

    

                    }

    

                }

    

        

    

                // 15秒ごとにメッセージを更新

    

                setInterval(updateMessage, 15000);

    

        

    

                // 初期表示

    

                updateMessage();

    

        

    

            </script>

    

        </body>

    

        </html>

    